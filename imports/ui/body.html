<body> 
  {{> homePage }}
</body>

<template name="homePage">
  <div class="container mt-4">
    <h1 class="mb-4">Welcome to SmartKid</h1>

    {{#if currentUser}}
      <h2>Hello, {{currentUser.username}}!</h2>
      <button class="btn btn-danger mb-3" id="logout-button">Log Out</button>

      <!-- Profile Management -->
      <div id="profile-management" class="user-profile mb-4">
        <h3>User Profile</h3>
        <div class="profile-details">
          <p>Username: {{currentUser.username}}</p>
          <p>Email: {{currentUser.emails.[0].address}}</p>
        </div>
        <button class="btn btn-primary" id="edit-profile">Edit Profile</button>

        <!-- Edit Profile Form -->
        <div id="edit-profile-form" class="mt-3" style="display: none;">
          <h4>Edit Profile</h4>
          <form id="profile-update-form">
            <div class="form-group">
              <label for="new-email">New Email</label>
              <input type="email" id="new-email" class="form-control" placeholder="Enter new email">
            </div>
            <div class="form-group">
              <label for="new-password">New Password</label>
              <input type="password" id="new-password" class="form-control" placeholder="Enter new password">
            </div>
            <button type="submit" class="btn btn-success">Update Profile</button>
          </form>
        </div>
      </div>

      <!-- Learning Mode Selection -->
      <div class="mb-4">
        <h4>Select a Learning Mode</h4>
        <button class="btn btn-success mr-2" id="baby-mode">Baby Mode</button>
        <button class="btn btn-success mr-2" id="junior-mode">Junior Mode</button>
        <button class="btn btn-success" id="explorer-mode">Explorer Mode</button>
      </div>

      <!-- Subject Selection Dropdown -->
      <div id="subject-selection" class="mb-4" style="display: none;">
        <h4>Select a Subject:</h4>
        <select id="subjects" class="form-control w-100">
          <option disabled selected value>-- Choose a Subject --</option>
          <option value="maths">Maths</option>
          <option value="literacy">Literacy</option>
          <option value="fineart">Fine Art</option>
          <option value="music">Music</option>
          <option value="bible">Bible Learning</option>
        </select>
      </div>

      <!-- Activities Container -->
      <div id="activities-container" class="mt-4"></div>

    {{else}}
      <p>Please log in to continue.</p>
      {{> loginButtons }}
    {{/if}}
  </div>
</template>
